(kicad_sch (version 20211123) (generator eeschema)

  (uuid fb006608-09b0-4c02-8f25-e95f994b6909)

  (paper "A4")

  (lib_symbols
    (symbol "Amplifier_Operational:LM741" (pin_names (offset 0.127)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at 0 6.35 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "LM741" (id 1) (at 0 3.81 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 1.27 1.27 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "http://www.ti.com/lit/ds/symlink/lm741.pdf" (id 3) (at 3.81 3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "single opamp" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Operational Amplifier, DIP-8/TO-99-8" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOIC*3.9x4.9mm*P1.27mm* DIP*W7.62mm* TSSOP*3x3mm*P0.65mm*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "LM741_0_1"
        (polyline
          (pts
            (xy -5.08 5.08)
            (xy 5.08 0)
            (xy -5.08 -5.08)
            (xy -5.08 5.08)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
      )
      (symbol "LM741_1_1"
        (pin input line (at 0 -7.62 90) (length 5.08)
          (name "NULL" (effects (font (size 0.508 0.508))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -7.62 -2.54 0) (length 2.54)
          (name "-" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -7.62 2.54 0) (length 2.54)
          (name "+" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at -2.54 -7.62 90) (length 3.81)
          (name "V-" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 2.54 -7.62 90) (length 6.35)
          (name "NULL" (effects (font (size 0.508 0.508))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 7.62 0 180) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at -2.54 7.62 270) (length 3.81)
          (name "V+" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin no_connect line (at 0 2.54 270) (length 2.54) hide
          (name "NC" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (id 0) (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (id 1) (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+5V" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+5V" (id 1) (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+5V\"" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+5V_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "+5V_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+5V" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (id 1) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 69.85 74.93) (diameter 0) (color 0 0 0 0)
    (uuid 4933847d-f861-4bc0-8efc-0a4c5191379b)
  )
  (junction (at 85.09 74.93) (diameter 0) (color 0 0 0 0)
    (uuid ddfe440e-fc19-46d1-969b-d6f4a62674f9)
  )
  (junction (at 69.85 88.9) (diameter 0) (color 0 0 0 0)
    (uuid f53f2c25-0e30-4293-a018-5530bdc7c82a)
  )

  (no_connect (at 107.95 99.06) (uuid a14150fa-50c5-42d2-a16e-b1a09f55572b))
  (no_connect (at 110.49 99.06) (uuid a14150fa-50c5-42d2-a16e-b1a09f55572b))

  (wire (pts (xy 69.85 88.9) (xy 100.33 88.9))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 10d10ad6-8747-4e53-90b7-c9edd54d96ed)
  )
  (wire (pts (xy 69.85 86.36) (xy 69.85 88.9))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3b4fa8c8-aaea-482e-bdd8-7f28236771f1)
  )
  (wire (pts (xy 85.09 74.93) (xy 85.09 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 5a9106d1-5bae-4f80-a726-9cf17033d6af)
  )
  (wire (pts (xy 69.85 74.93) (xy 69.85 78.74))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 87f06454-27a9-4bfb-b170-4ed2c8d45b86)
  )
  (wire (pts (xy 82.55 74.93) (xy 85.09 74.93))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b7fa47a7-18b3-4110-ab83-7fc25da8339c)
  )
  (wire (pts (xy 69.85 88.9) (xy 69.85 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid be639f93-ccbf-471d-8e2a-dd7a8b3c1455)
  )
  (wire (pts (xy 66.04 74.93) (xy 69.85 74.93))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c106d9f1-20e4-4f2e-a457-0de66d7bf915)
  )
  (wire (pts (xy 69.85 74.93) (xy 74.93 74.93))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d87705ab-e344-400d-b3a3-0a98294eb973)
  )
  (wire (pts (xy 85.09 93.98) (xy 100.33 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid da5fe5fe-6d0c-44a1-a31d-570a795cbc83)
  )
  (wire (pts (xy 69.85 99.06) (xy 69.85 101.6))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f6b5234c-df1d-4f5c-969d-477ee26a1dd2)
  )
  (wire (pts (xy 85.09 74.93) (xy 88.9 74.93))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f9036854-c82b-45c1-b618-c3eeb0625221)
  )

  (text "Because 10W/11V = 0.9A and 0.9A*1[Ohm] = 0.9V (and same for Vin=27V).\nA lower value shunt would have dissipated less power, but too little of a voltage\ncould have been an issue with component precisions."
    (at 68.58 71.12 0)
    (effects (font (size 0.8 0.8)) (justify left bottom))
    (uuid 04ac81b7-c14a-4864-98fa-5b24f21c2db4)
  )
  (text "At 10W, the shunt resistor will drop\n0.9V when Vin=11V and 0.4V when Vin=27V"
    (at 68.58 66.04 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 298fdda5-85c4-4412-a9b0-024507229eff)
  )
  (text "The comparator should trigger\nwhen Vshunt >= 0.4V that is,\nwhen V+ <= (27 - 0.4 =) 26.6 V"
    (at 87.63 113.03 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 823ba9a5-7398-4db9-895d-d285be1bb93f)
  )
  (text "Therefore, with a voltage divider, V+ is held at 26.6V\n(when Vin=27V) and the opamp will trigger if V- <= V+"
    (at 87.63 116.84 0)
    (effects (font (size 0.8 0.8)) (justify left bottom))
    (uuid a504f296-8c46-4829-8344-db293f130549)
  )

  (hierarchical_label "Vout" (shape output) (at 88.9 74.93 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 7c5e1e57-9b14-4180-af3c-a4577ce94da7)
  )
  (hierarchical_label "Vin" (shape input) (at 66.04 74.93 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 9479c44e-e71a-4aad-96bb-905d021c736d)
  )
  (hierarchical_label "Over_10W" (shape output) (at 127 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid b354208b-e78d-4186-80df-aa49a65e2935)
  )

  (symbol (lib_id "Device:R") (at 69.85 82.55 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 1e2fc46d-e776-4dc1-9536-d4f0e74d01c3)
    (property "Reference" "R?" (id 0) (at 71.628 81.7153 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "7.5k" (id 1) (at 71.628 84.2522 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (id 2) (at 68.072 82.55 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 69.85 82.55 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid d5d23e4e-b043-4541-84e9-b9bc979fd707))
    (pin "2" (uuid d4a0d290-9458-4c0e-affd-f3e9f65cc35f))
  )

  (symbol (lib_id "Amplifier_Operational:LM741") (at 107.95 91.44 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 3aaefd01-c336-4933-8f29-96bda986752e)
    (property "Reference" "U?" (id 0) (at 116.9254 87.6133 0))
    (property "Value" "LM741" (id 1) (at 110.49 87.63 0))
    (property "Footprint" "" (id 2) (at 109.22 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "http://www.ti.com/lit/ds/symlink/lm741.pdf" (id 3) (at 111.76 87.63 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid bd33139b-8225-40e9-9a27-8308e428f374))
    (pin "2" (uuid 50e89bf3-a0db-45c3-a907-d55e68d3870d))
    (pin "3" (uuid bb278c02-f41d-4169-a899-b32438776cc7))
    (pin "4" (uuid 7a542278-14c5-4cc5-846b-4b8bda7b0a98))
    (pin "5" (uuid f9ac7ecc-ac9a-4271-b42d-e93594a81715))
    (pin "6" (uuid accc8fdc-1d9b-4555-b2c5-7d936f46f7c0))
    (pin "7" (uuid 7ba532c6-76b1-4b21-baee-f9fb9e96ba95))
    (pin "8" (uuid 49512356-1bac-452a-a023-6ffd95d5ff4f))
  )

  (symbol (lib_id "Device:R") (at 69.85 95.25 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 692a3bcf-0de2-4486-acae-c61e8e3909df)
    (property "Reference" "R?" (id 0) (at 71.628 94.4153 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "500k" (id 1) (at 71.628 96.9522 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (id 2) (at 68.072 95.25 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 69.85 95.25 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid bb4a4666-4a4a-42b4-90d5-8236cb0a6b63))
    (pin "2" (uuid 1cefe128-0c97-4928-be63-aec7b4d102aa))
  )

  (symbol (lib_id "power:GND") (at 69.85 101.6 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 7a4bbde4-2408-4f88-be7f-f017bee2baf1)
    (property "Reference" "#PWR?" (id 0) (at 69.85 107.95 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 69.85 106.0434 0))
    (property "Footprint" "" (id 2) (at 69.85 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 69.85 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 319241b8-8f3b-4c75-b672-916ec4f5f8a2))
  )

  (symbol (lib_id "Device:R") (at 78.74 74.93 90) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 865134ad-51b8-46da-b378-f0866e75c713)
    (property "Reference" "R?" (id 0) (at 78.74 77.47 90))
    (property "Value" "1" (id 1) (at 78.74 72.7511 90))
    (property "Footprint" "" (id 2) (at 78.74 76.708 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 78.74 74.93 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid bde1359b-3141-4c1f-9cd7-70e8a7c7a089))
    (pin "2" (uuid 2018cd90-f033-4f39-a242-1793ab227f58))
  )

  (symbol (lib_id "power:GND") (at 105.41 99.06 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid bb87a798-564e-43dd-adc6-ff614b89f841)
    (property "Reference" "#PWR?" (id 0) (at 105.41 105.41 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 105.41 103.5034 0))
    (property "Footprint" "" (id 2) (at 105.41 99.06 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 105.41 99.06 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid ba919c70-e10c-4d2a-a1c5-dd9f496876bf))
  )

  (symbol (lib_id "power:+5V") (at 105.41 83.82 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid ccffb395-bb72-4b49-94ce-d8e441859e66)
    (property "Reference" "#PWR?" (id 0) (at 105.41 87.63 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+5V" (id 1) (at 105.41 80.2442 0))
    (property "Footprint" "" (id 2) (at 105.41 83.82 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 105.41 83.82 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid aee29486-e5e5-4820-9384-a2958425d82d))
  )
)
